import 'package:flutter/widgets.dart';

class AppLocalizations {
  final Locale locale;
  AppLocalizations(this.locale);

  static const LocalizationsDelegate<AppLocalizations> delegate = _AppLocalizationsDelegate();

  static const List<String> supportedLanguageCodes = ['en', 'tl'];

  static AppLocalizations of(BuildContext context) {
    return Localizations.of<AppLocalizations>(context, AppLocalizations)!;
  }

  static final Map<String, Map<String, String>> _localizedValues = {
    'en': {
      // Settings
      'settings': 'Settings',
      'notifications': 'Notifications',
      'notifications_sub': 'Manage notification preferences',
      'theme': 'Theme',
      'theme_sub': 'Change app appearance',
      'language': 'Language',
      'language_sub': 'Select your preferred language',
      'help_support': 'Help & Support',
      'help_support_sub': 'Get help and contact support',
      'terms_of_service': 'Terms of Service',
      'privacy_policy': 'Privacy Policy',
      'close': 'Close',
      'light': 'Light',
      'dark': 'Dark',
      'use_system_theme': 'Use system theme',
      'english': 'English',
      'tagalog': 'Tagalog',
      'admin_settings': 'Admin Settings',
      'admin_settings_sub': 'Configure admin-specific settings',
      'help_title': 'Help & Support',
      'help_intro': 'Find quick answers and ways to contact us.',
      'quick_links': 'Quick Links',
      'email_support': 'Email Support',
      // Navigation
      'home': 'Home',
      'recipes': 'Recipes',
      'ferment': 'Ferment',
      'community': 'Community',
      'my_recipes': 'My Recipes',
      'profile': 'Profile',
      // Home Tab
      'welcome': 'Welcome',
      'browse_recipes': 'Browse Recipes',
      'my_drafts': 'My Drafts',
      'favorites': 'Favorites',
      'start_fermentation': 'Start Fermentation',
      'view_logs': 'View Logs',
      'recent_activity': 'Recent Activity',
      'quick_actions': 'Quick Actions',
      'find_what_to_make': 'Find what to make',
      'log_new_batch': 'Log a new batch',
      'share_with_community': 'Share with community',
      'liked_recipes': 'Liked recipes',
      'all_announcements': 'All Announcements',
      'today': 'Today',
      'yesterday': 'Yesterday',
      // Recipes
      'recipe_detail': 'Recipe Detail',
      'ingredients': 'Ingredients',
      'instructions': 'Instructions',
      'nutrition_info': 'Nutrition Info',
      'difficulty': 'Difficulty',
      'prep_time': 'Prep Time',
      'cook_time': 'Cook Time',
      'servings': 'Servings',
      'easy': 'Easy',
      'medium': 'Medium',
      'hard': 'Hard',
      'minutes': 'minutes',
      'people': 'people',
      // Fermentation
      'fermentation_log': 'Fermentation Log',
      'new_log': 'New Log',
      'log_detail': 'Log Detail',
      'stage': 'Stage',
      'temperature': 'Temperature',
      'humidity': 'Humidity',
      'ph_level': 'pH Level',
      'notes': 'Notes',
      'add_photo': 'Add Photo',
      'save_log': 'Save Log',
      'edit_log': 'Edit Log',
      'delete_log': 'Delete Log',
      // Community
      'community_posts': 'Community Posts',
      'new_post': 'New Post',
      'post_detail': 'Post Detail',
      'like': 'Like',
      'comment': 'Comment',
      'share': 'Share',
      'post_title': 'Post Title',
      'post_content': 'Post Content',
      'add_image': 'Add Image',
      'standard_recipes': 'Standard Recipes',
      'verified_organic': 'Verified organic fertilizer recipes',
      'community_recipes': 'Community Recipes',
      'shared_by_farmers': 'Shared by fellow farmers',
      'standard_recipe': 'Standard Recipe',
      'general_plant_growth': 'For general plant growth and development',
      'flowering_fruit': 'For flowering and fruit development',
      'view_details': 'View Details',
      'view_recipe': 'View Recipe',
      'fermentation_tracker': 'Fermentation Tracker',
      'active_batches': 'Active Batches',
      'completed_batches': 'Completed Batches',
      'all_batches': 'All Batches',
      'start_new_batch': 'Start New Batch',
      'no_active_batches': 'No active fermentation batches',
      'no_completed_batches': 'No completed fermentation batches',
      'no_batches': 'No fermentation batches found',
      'search_batches': 'Search batches...',
      'filter_by_method': 'Filter by method',
      'all_methods': 'All Methods',
      'fpj': 'FPJ',
      'ffj': 'FFJ',
      'faa': 'FAA',
      'oh': 'OH',
      'batch_id': 'Batch ID',
      'method': 'Method',
      'start_date': 'Start Date',
      'status': 'Status',
      'active': 'Active',
      'completed': 'Completed',
      'days_fermenting': 'days fermenting',
      'completed_on': 'Completed on',
      'saved_posts': 'Saved Posts',
      // Common Actions
      'save': 'Save',
      'cancel': 'Cancel',
      'edit': 'Edit',
      'delete': 'Delete',
      'confirm': 'Confirm',
      'yes': 'Yes',
      'no': 'No',
      'ok': 'OK',
      'loading': 'Loading...',
      'error': 'Error',
      'success': 'Success',
      'warning': 'Warning',
      'info': 'Info',
    },
    'tl': {
      // Settings
      'settings': 'Mga Setting',
      'notifications': 'Notipikasyon',
      'notifications_sub': 'I-manage ang mga preference ng notipikasyon',
      'theme': 'Tema',
      'theme_sub': 'Baguhin ang itsura ng app',
      'language': 'Wika',
      'language_sub': 'Piliin ang nais na wika',
      'help_support': 'Tulong at Suporta',
      'help_support_sub': 'Kumuha ng tulong at makipag-ugnayan',
      'terms_of_service': 'Mga Tuntunin ng Serbisyo',
      'privacy_policy': 'Patakaran sa Privacy',
      'close': 'Isara',
      'light': 'Liwanag',
      'dark': 'Madilim',
      'use_system_theme': 'Gamitin ang tema ng system',
      'english': 'Ingles',
      'tagalog': 'Tagalog',
      'admin_settings': 'Admin Settings',
      'admin_settings_sub': 'I-configure ang admin na mga setting',
      'help_title': 'Tulong at Suporta',
      'help_intro': 'Mga mabilisang sagot at paraan para makipag-ugnayan.',
      'quick_links': 'Mga Mabilisang Link',
      'email_support': 'Email Support',
      // Navigation
      'home': 'Bahay',
      'recipes': 'Mga Recipe',
      'ferment': 'Ferment',
      'community': 'Komunidad',
      'my_recipes': 'Mga Recipe Ko',
      'profile': 'Profile',
      // Home Tab
      'welcome': 'Maligayang Pagdating',
      'browse_recipes': 'Tingnan ang mga Recipe',
      'my_drafts': 'Mga Draft Ko',
      'favorites': 'Mga Paborito',
      'start_fermentation': 'Simulan ang Fermentation',
      'view_logs': 'Tingnan ang mga Log',
      'recent_activity': 'Kamakailang Aktibidad',
      'quick_actions': 'Mga Mabilisang Aksyon',
      'find_what_to_make': 'Hanapin ang gagawin',
      'log_new_batch': 'Mag-log ng bagong batch',
      'share_with_community': 'Ibahagi sa komunidad',
      'liked_recipes': 'Mga recipe na nagustuhan',
      'all_announcements': 'Lahat ng mga Anunsyo',
      'today': 'Ngayon',
      'yesterday': 'Kahapon',
      // Recipes
      'recipe_detail': 'Detalye ng Recipe',
      'ingredients': 'Mga Sangkap',
      'instructions': 'Mga Tagubilin',
      'nutrition_info': 'Impormasyon sa Nutrisyon',
      'difficulty': 'Kahirapan',
      'prep_time': 'Oras ng Paghahanda',
      'cook_time': 'Oras ng Pagluluto',
      'servings': 'Mga Paghahatian',
      'easy': 'Madali',
      'medium': 'Katamtaman',
      'hard': 'Mahirap',
      'minutes': 'minuto',
      'people': 'tao',
      // Fermentation
      'fermentation_log': 'Log ng Fermentation',
      'new_log': 'Bagong Log',
      'log_detail': 'Detalye ng Log',
      'stage': 'Yugto',
      'temperature': 'Temperatura',
      'humidity': 'Halumigmig',
      'ph_level': 'Antas ng pH',
      'notes': 'Mga Tala',
      'add_photo': 'Magdagdag ng Larawan',
      'save_log': 'I-save ang Log',
      'edit_log': 'I-edit ang Log',
      'delete_log': 'I-delete ang Log',
      // Community
      'community_posts': 'Mga Post sa Komunidad',
      'new_post': 'Bagong Post',
      'post_detail': 'Detalye ng Post',
      'like': 'Gustuhin',
      'comment': 'Mag-komento',
      'share': 'Ibahagi',
      'post_title': 'Pamagat ng Post',
      'post_content': 'Nilalaman ng Post',
      'add_image': 'Magdagdag ng Larawan',
      'standard_recipes': 'Mga Standard na Recipe',
      'verified_organic': 'Mga napatunayang organic fertilizer recipes',
      'community_recipes': 'Mga Recipe ng Komunidad',
      'shared_by_farmers': 'Ibinahagi ng mga kapwa magsasaka',
      'standard_recipe': 'Standard na Recipe',
      'general_plant_growth': 'Para sa pangkalahatang paglaki at pag-unlad ng halaman',
      'flowering_fruit': 'Para sa pamumulaklak at pag-unlad ng prutas',
      'view_details': 'Tingnan ang Detalye',
      'view_recipe': 'Tingnan ang Recipe',
      'fermentation_tracker': 'Fermentation Tracker',
      'active_batches': 'Mga Aktibong Batch',
      'completed_batches': 'Mga Natapos na Batch',
      'all_batches': 'Lahat ng Batch',
      'start_new_batch': 'Simulan ang Bagong Batch',
      'no_active_batches': 'Walang aktibong fermentation batches',
      'no_completed_batches': 'Walang natapos na fermentation batches',
      'no_batches': 'Walang nahanap na fermentation batches',
      'search_batches': 'Maghanap ng batches...',
      'filter_by_method': 'I-filter ayon sa paraan',
      'all_methods': 'Lahat ng Paraan',
      'fpj': 'FPJ',
      'ffj': 'FFJ',
      'faa': 'FAA',
      'oh': 'OH',
      'batch_id': 'Batch ID',
      'method': 'Paraan',
      'start_date': 'Petsa ng Simula',
      'status': 'Katayuan',
      'active': 'Aktibo',
      'completed': 'Natapos',
      'days_fermenting': 'araw na nag-ferment',
      'completed_on': 'Natapos noong',
      'saved_posts': 'Mga Naka-save na Post',
      // Common Actions
      'save': 'I-save',
      'cancel': 'Kanselahin',
      'edit': 'I-edit',
      'delete': 'I-delete',
      'confirm': 'Kumpirmahin',
      'yes': 'Oo',
      'no': 'Hindi',
      'ok': 'OK',
      'loading': 'Naglo-load...',
      'error': 'May Mali',
      'success': 'Tagumpay',
      'warning': 'Babala',
      'info': 'Impormasyon',
    },
  };

  String t(String key) {
    final code = _resolveLanguageCode(locale.languageCode);
    return _localizedValues[code]?[key] ?? _localizedValues['en']![key] ?? key;
  }

  String _resolveLanguageCode(String code) {
    if (supportedLanguageCodes.contains(code)) return code;
    return 'en';
  }
}

class _AppLocalizationsDelegate extends LocalizationsDelegate<AppLocalizations> {
  const _AppLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) => AppLocalizations.supportedLanguageCodes.contains(locale.languageCode);

  @override
  Future<AppLocalizations> load(Locale locale) async => AppLocalizations(locale);

  @override
  bool shouldReload(covariant LocalizationsDelegate<AppLocalizations> old) => false;
}


